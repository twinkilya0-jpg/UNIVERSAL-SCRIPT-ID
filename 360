local RunService = game:GetService("RunService")
local lp = game:GetService("Players").LocalPlayer
local rotationConnection = nil
local rotationSpeed = 100000

local function startRotation()
    if rotationConnection then rotationConnection:Disconnect() end
    
    rotationConnection = RunService.Heartbeat:Connect(function(dt)
        local char = lp.Character
        local hrp = char and char:FindFirstChild("HumanoidRootPart")
        
        if hrp and getgenv().rotationEnabled then
            hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(rotationSpeed * dt), 0)
        elseif not getgenv().rotationEnabled then
            if rotationConnection then 
                rotationConnection:Disconnect() 
                rotationConnection = nil 
            end
        end
    end)
end

Tabs.Movement:AddToggle("SpinBot", {
    Title = "Enable Rotation",
    Default = false,
    Callback = function(v)
        getgenv().rotationEnabled = v
        if v then
            startRotation()
        else
            if rotationConnection then 
                rotationConnection:Disconnect() 
                rotationConnection = nil 
            end
        end
    end
})

