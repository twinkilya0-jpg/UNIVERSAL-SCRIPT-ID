local speed = getgenv().rotationSpeed or 100000

if rotationConnection then
    rotationConnection:Disconnect()
    rotationConnection = nil
end

if getgenv().rotationEnabled then
    rotationConnection = game:GetService("RunService").Heartbeat:Connect(function(deltaTime)
        if Character and HumanoidRootPart and HumanoidRootPart.Parent then
            local currentRotation = HumanoidRootPart.Orientation
            HumanoidRootPart.Orientation = Vector3.new(
                currentRotation.X,
                currentRotation.Y + (speed * deltaTime),
                currentRotation.Z
            )
        else
            if rotationConnection then
                rotationConnection:Disconnect()
                rotationConnection = nil
            end
        end
    end)
end
